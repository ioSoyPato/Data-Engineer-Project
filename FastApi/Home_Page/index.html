<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Home</title>
    <link rel="stylesheet" href="static2/style.css">
    <script src="https://code.iconify.design/2/2.2.1/iconify.min.js"></script>
</head>
<body>
    <nav class="sidebar">
        <div class="sidebar--brand">
            <img src="static2/logo2.png" alt="Logo">
        </div>
        <div class="menu menu-extra">
            <div class="menu--item active">
                <a href="#">
                    <span class="iconify" data-icon="mdi:home-outline"></span>
                    <span>Home</span>
                </a>
            </div>
            <div class="menu--item">
                <a href="#">
                    <span class="iconify" data-icon="mdi:magnify"></span>
                    <span>Search</span>
                </a>
            </div>
            <div class="menu--item">
                <a href="#">
                    <span class="iconify" data-icon="mdi:library-music"></span>
                    <span>Your Library</span>
                </a>
            </div>
            <div class="menu--item">
                <a href="#">
                    <span class="iconify" data-icon="mdi:heart-outline"></span>
                    <span>Liked Songs</span>
                </a>
            </div>
            <div class="menu--item">
                <a href="https://github.com/ioSoyPato/Data-Engineer-Project">
                    <span class="iconify" data-icon="mdi:playlist-music"></span>
                    <span>Git-Hub</span>
                </a>
            </div>
            <div class="menu--item">
                <a href="#">
                    <span class="iconify" data-icon="mdi:podcast"></span>
                    <span>Settings</span>
                </a>
            </div>
            <div class="menu--item">
                <a href="">
                    <span class="iconify" data-icon="mdi:radio"></span>
                    <span>log-out</span>
                </a>
            </div>
        </div>
    </nav>
    <main class="main-content">
        <h1>Your Playlists</h1>
        <div class="playlists">
            <div class="playlists-container">
                <div class="playlist">
                    <a href="#">
                        <img src="static2/playlist-cover-1.png" alt="Playlist Cover 1">
                        <div class="playlist--info">
                            <h3>ioSoyPato - 132 Songs</h3>
                        </div>
                    </a>
                </div>
                <!-- Nueva playlist aquÃ­ -->
                <div class="playlist">
                    <a href="#">
                        <img src="static2/playlist-cover-g.png" alt="Playlist Cover 2">
                        <div class="playlist--info">
                            <h3>Lucero - 15 Songs</h3>
                        </div>
                    </a>
                </div>
                <!-- Nueva playlist aquÃ­ -->
                <div class="playlist">
                    <a href="#">
                        <img src="static2/playlist-cover-1.png" alt="Playlist Cover 2">
                        <div class="playlist--info">
                            <h3>Coding  - 1 Songs</h3>
                        </div>
                    </a>
                </div>
                <!-- Nueva playlist aquÃ­ -->
                <div class="playlist">
                    <a href="http://127.0.0.1:4444/playlist/">
                        <img src="static2/playlist-cover-1.png" alt="Playlist Cover 2">
                        <div class="playlist--info">
                            <h3>Shower Music - 7 Songs</h3>
                        </div>
                    </a>
                </div>
            </div>
            </div>
            </div>
            <h1>For you</h1>
            <div class="playlist">
                <a href="#">
                    <img src="static2/playlist-cover-2.png" alt="Playlist Cover 2">
                    <div class="playlist--info">
                        <h3>Soon</h3>
                    </div>
                </a>
            </div>
            <div id="chatContainer" style="display: none; position: fixed; right: 0; top: 0; width: 50%; height: 100%; background-color: rgb(92, 107, 241); z-index: 1000;">
                <div style="padding: 20px;">
                    <h2>Chat with DUCKI</h2>
                    <div id="chatMessages" style="height: 80%; overflow-y: auto;"></div>
                    <input type="text" id="chatInput" placeholder="Type a message..." style="width: 90%; margin-top: 10px;">
                    <button onclick="sendMessage()">ðŸ“©</button>
                </div>
            </div>            
            <footer style="display: flex; margin-top: 30px;">
                <div>
                    <h2>Chat with DUCKI</h2>
                    <button class="GPT" style= "background-color:aquamarine; padding: 10px 20px;">
                        <span class="iconify" data-icon="mdi:message-text"></span>
                    </button>                    
                </div>
            </footer>
    </main>

    <script>
        function toggleChat() {
            var chatContainer = document.getElementById('chatContainer');
            chatContainer.style.display = chatContainer.style.display === 'none' ? 'block' : 'none';
        }
    
        document.querySelector('.GPT').addEventListener('click', toggleChat);
    
        function sendMessage() {
            var input = document.getElementById('chatInput');
            var message = input.value.trim();
            if (message) {
                var chatMessages = document.getElementById('chatMessages');
                var msgElement = document.createElement('div');
                msgElement.textContent = message;
                msgElement.className = 'user-message'; // Add class to style user messages differently
                chatMessages.appendChild(msgElement);
                input.value = ''; // Clear input after sending
    
                // Scroll to the bottom of the chat to show new messages
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }
    
        // Add an event listener to the input to check for the Enter key
        document.getElementById('chatInput').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault(); // Prevent the default action to stop the form from submitting
                sendMessage(); // Call sendMessage if Enter is pressed
            }
        });
    </script>    
</body>